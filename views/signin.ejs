<!DOCTYPE html>
<html>
	<head>  
	<%- include('parts/head', {title: 'サインイン'}) %>

	<script src="https://www.gstatic.com/firebasejs/5.8.1/firebase-app.js"></script>
	<script src="https://www.gstatic.com/firebasejs/5.8.1/firebase-auth.js"></script>
	<script src="https://www.gstatic.com/firebasejs/ui/3.5.2/firebase-ui-auth__ja.js"></script>

	<link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.css" />

	<script>  
		var config = {
			apiKey: "<%= config.apiKey %>",
			authDomain: "<%= config.authDomain %>",
			projectId: "<%= config.projectId %>",
			storageBucket: "<%= config.storageBucket %>",
			messagingSenderId: "<%= config.messagingSenderId %>",
			appId: "<%= config.appId %>",
			measurementId: "<%= config.measurementId %>"
		};

		firebase.initializeApp(config);

		var uiConfig = {
			signInSuccessUrl: '/authDone',
			signInOptions: [
				firebase.auth.EmailAuthProvider.PROVIDER_ID,
				firebase.auth.FacebookAuthProvider.PROVIDER_ID,
				//firebase.auth.TwitterAuthProvider.PROVIDER_ID
			],
		};

		var ui = new firebaseui.auth.AuthUI(firebase.auth());
		ui.start('#firebaseui-auth-container', uiConfig);   
	</script>

	</head>
	<body class="p-2">
	
		<div class="container p-2 text-center">
			<%- include('parts/lang', {}) %>
			<h1 class="mb-5"><%- __("サミットマネージャー") %></h1>

			<div id="firebaseui-auth-container"></div>

			<div class="row my-3">
				<div class="col">
					<label><%- __("初めての方でメールでログインされる方は初回のメールアドレス入力でアカウントが作成されます。") %></label>
					<label><%- __("Facebookでログインされる方はFacebookに登録されているメールアドレスが内部でアカウントとして使用されます。") %></label>		
				</div>
			</div>
		</div>

	</body>
	</html>
